---
layout: post
title: nodejs架构和定位
author: Tower
date: '2017-12-03 00:00:00'
category: framework
summary: nodejs定位和架构
thumbnail: 171203framework.jpg
---

## node架构

最近领导安排做技术选型，并提供一下大致的node架构，于是就有了这张图：
![deploy using travis](/assets/img/posts/171203framework1.jpg){:class="img-fluid"}

我还舔着脸，给预想的框架起了一个高大上的名称：战神`Arse`

在画出大致架构后，具体一些实现细节和职责边界问题上，跟公司传统后端产生了一些争执。以至于延伸到使用JAVA还是NODE的问题上。

聊到这个问题，我有一些自己的想法：

首先可以明确一点，所有的技术都是为业务服务，优化人员结构，节约企业运营开发成本。尤其是业务驱动型的公司，这种体会越发明显。
技术的升级以及科研成果最终还是会反馈于业务，助力企业成长。公司发展技术团队也是为了长远考虑做的一笔投资。
所以要先定位业务，是面向C端还是面向B端？是否需要满足高可用，高并发，是否需要企业级安全，信息安全和容灾等方案。
如果是改造系统，那是否当下的系统无法满足业务需求，是否存在可预见性的承载力不足，必须要进行升级或是重构，这些都需要讨论。
简单的一句话，抛开业务做技术选型，就是在耍流氓。

Java或Node这是个老生常谈的问题了，表面上是两个对立的阵营，在我看来是对语言定位产生了偏差。
J2EE诞生已经快20年了，作为企业级应用解决方案，地位无法撼动，不仅仅是因为有丰富的社区和基金提供支持，背后更有oracle这样的商业公司。
Java有着成熟的技术解决方案和充足的技术人员储备。开发者可以不用关心原理的实现机制，在框架的支持下，完成可维护性较高的业务实践。
Node呢，从稳定版本发布到现在也不超过5年时间，发展迅速，从业人员迅速涌入。Node起初是为了解决互联网爆炸性增长提出的解决方案，有着高效，轻量快速的特点。
这是Node的优势，同时也是Node的缺点。JS语言简单导致从业人员的技能水平普遍偏低，对操作系统原理还没弄清楚就敢说一统前后端。
虽然有着几十万的NPM包，但可用的精品还是比较少的。Node更擅长的是整合前后端，做领域的拆分，做网关，做可视化，这些恰恰是Java不擅长的。

最后我认为开发人员不应该拘泥于开发语言的限制，更多的是考虑怎么实现，心法胜于招式。